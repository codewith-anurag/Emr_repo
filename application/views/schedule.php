<style>
.form-label {
  float: inherit;
}

.mb-0 {
  margin-bottom: 0px !important;
}
.bootstrap-select .btn-default:hover {
      color: #777 !important;
background-color: transparent !important;
}
.bootstrap-select .btn-default {
  color: #7f7f7f !important;
  border-color:#ccc !important;
  border: 1px solid #ccc !important;
}
.modal-content {
  border-radius: 15px !important;
}
.modal-content h4 {
  color: #150aec;
  font-weight: 700;
}
.h-50 {
  max-height: 500px;
  height: 350px;
  overflow-y:auto;
  overflow-x: hidden;
}
.modal-body {
    max-height: 100%;
    /* height: 500px; */
    height: 100%;
    overflow: hidden;
}
.appointment-tab  .tab-pane {
    height: auto !important;
    overflow-y: hidden !important;
    overflow-x: hidden !important;
    max-height: 100% !important;
}
</style>
<style type="text/css">
  /* .page-sidebar {
      height: auto;
      width: 260px;
      position: fixed;
      padding: 0px;
      background-color: #ffffff;
      margin-top: 60px;
      overflow: hidden;
      box-shadow: 0 0 0px 0 rgba(33,33,33,.2) !important;
      }
   .sidebar-li{
        border-bottom: 2px #eee solid;
        }
        #main-menu-wrapper li a:hover {
        background-color: #d5f3f2;
        border-left: 4px solid #4d9cf8;
        color: #00b3ac;
        } */
        .form-label {
          float: inherit;
        }
          .mb-0 {
            margin-bottom: 0px !important;
          }
          .bootstrap-select .btn-default:hover {
                color: #777 !important;
          background-color: transparent !important;
          }
          .bootstrap-select .btn-default {
            color: #7f7f7f !important;
            border-color:#ccc !important;
            border: 1px solid #ccc !important;
          }
          .modal-content {
            border-radius: 15px !important;
          }
          .modal-content h4 {
            color: #150aec;
            font-weight: 700;
          }
          .w-100 {
            width: 100%;
          }
          .pos-icon {
     display: flex;
position: relative;
    bottom: 24px;
left: calc(100% - 4%);
}
.mr-15 {
margin-right: 15px;
}
.mt-15 {
margin-top: 15px;
}
.tab-content {
border:none;
background: transparent;
padding: 0px;
}
.nav-item.active {
  color: #150aec;
font-weight: 700;
padding-right: 16px;
border-bottom: 3px solid #ccc;
padding-bottom: 9px;
}
.nav-tabs {
padding-bottom: 8px;
}
.modal-body {
padding: 15px;
}
.white-box {
background: #fff;
border-radius: 5px;
box-shadow: -1px 5px 10px -3px #ccc;
padding: 5px;
border:1px solid #ccc;
}
.white-box img {
width: 50%;
margin-left: 30px !important;
margin-bottom: 6px;
}
.dis-flex {
display: flex !important;
}
.ml-22 {
  margin-left: 22px;
}
.m-0 {
margin-bottom: 0px;
}
.border-bottom {
border-bottom: 1px solid #ccc;
display: block;
padding-bottom: 10px;
padding-top: 7px;
}
.duration input {
border: 1px solid #ccc;
height: 35px;
border-radius: 7px;
}
textarea {
  padding: 10px;
border-radius: 5px;
}
.form-group {
margin-bottom: 10px;
}
#appointment .tab-pane {
height: 350px;
overflow-y: auto;
overflow-x: hidden;
}
.imp-red {
color: red;
}
.mt-30 {
margin-top: 30px;
}
.bttom-brder {
border-bottom: 1px solid #ccc;
padding-bottom: 50px;
}
.ml-20 {
margin-left: 20px;
}
.dropdown-menu label {
display: block;
}
.mr-10 {
margin-right: 10px;
}
.color-box {
background: #BF2F00;
height: 10px;
width: 10px;
border: 1px solid #000;
margin-right: 10px;
margin-top:6px;
}
.dropdown .btn-primary {
margin-top: 10px;
background: #fff;
border: 1px solid #000;
color: #000;
}

.dropdown .btn-primary i {
position: relative;
left: 5px;
bottom: 2px;
}
.btn-primary.active.focus, .btn-primary.active:focus, .btn-primary.active:hover, .btn-primary:active.focus, .btn-primary:active:focus, .btn-primary:active:hover, .open>.dropdown-toggle.btn-primary.focus, .open>.dropdown-toggle.btn-primary:focus, .open>.dropdown-toggle.btn-primary:hover {
  color: #fff;
background-color: #00b3ac;
border-color: #00b3ac;
}
.open>.dropdown-toggle.btn-primary {
color: #fff;
background-color: #00b3ac;
border-color: #00b3ac;
}
.dropdown-menu label {
width: 200px;
}
.ml-20 {
margin-left: 30px;
}

.right-0 {
  position: absolute;
right: 0;
}
.nav-tabs>li.active>a, .nav-tabs>li.active>a:hover, .nav-tabs>li.active>a:focus {
background: transparent;
border: none;
border-bottom: 3px solid #150aec;
color: #150aec;
font-weight: 700;
}
.nav-tabs {
padding-bottom: 0px;
}
.nav-tabs>li>a {
  border: none;
background: transparent;
color: #150aec;
}
.nav>li>a:hover, .nav>li>a:focus {
border-bottom: 3px solid #150aec;
color: #150aec;
font-weight: 700;
background: transparent;
}
.tab-list.nav-tabs {
border-bottom: none;
}
.pl-0 {
padding-left: 0px;
}
.dropdown-btn {
    color: #150aec !important;
    background: #fff;
    border: none;
    margin-top: 10px;
    margin-left: 0;
    padding-left: 10px;
    padding-bottom: 10px;
    display: flex;
    justify-content: space-between;
}
.dropdown-btn:focus {
border:none;
outline: none;
}
.dropdown-btn i {
position: absolute;
right: 8px;
}
.bottom-bordr {
border-bottom: 1px solid #ccc;
/*  padding-bottom: 8px;*/
}
.dropdown-container {
  border-top: 1px solid #ccc;
background: #deffff;
transform: translateY(0%);
display: none;
}
.pr-0 {
padding-right: 0px;
}
.brder-left {
  border-left: 1px solid #ccc;
 height: auto;
}
.ml-15 {
margin-left: 15px;
}
.ml-25 {
margin-left: 25px;
}
.mr-0 {
margin-right: 0px !important;
}
.fc-ltr .fc-axis {
 width: 45px !important;
}
.table-appointment  td {
border-right: 1px solid #d6d6d6;
}
.table-appointment thead th {
border-right: 1px solid #d6d6d6 ;
border-color: #d6d6d6 !important;
}
.table-appointment thead {
background: #e8e8e8;
color: #404040;
}
.pb-10 {
padding-bottom: 10px;
}
.mr-30 {
  margin-right: 30px !important;
}
.fc .fc-button-group > :first-child {
background: #fff;
border-color: #150aec;
margin-right: 10px;
margin-top: 10px;
padding: 0px 17px 0px 17px;
 text-transform: capitalize;
}
.fc button .fc-icon {
color: #150aec;
}
.fc .fc-button-group > :first-child:hover {
background: #150aec;
}
.fc button .fc-icon:hover {
color: #fff;
background: #150aec;
}
.fc-state-default.fc-corner-right {
background: #fff;
border-color: #150aec;
margin-right: 10px;
margin-top: 10px;
text-transform: capitalize;
}
.fc-state-default.fc-corner-right:hover {
background: #150aec;
}
.fc-state-default {
color: #150aec;
background: #fff;
border-color: #150aec;
margin-top: 10px;
margin-right: 10px;
padding: 7px 14px;
}
.fc-state-default:hover {
color: #fff;
background: #150aec;
}
.fc .fc-button-group > * {
margin-top: 10px;
margin-right: 10px;
padding: 0px 17px 0px 17px;
text-transform: capitalize;
}
.fc-button-group {
position: relative;
right: 10px;
}
.fc-prev-button, .fc-next-button {
padding: 0px 12px 0px 12px !important;
position: relative;
left: 10px;
}
.fc th a {
color: #fff;
}
.fc th a:hover {
color: #00b3ac;
font-weight: 600;
}
.fc th a:active {
color: #00b3ac;
font-weight: 600;
}
.fc-unthemed .fc-today a:active {
color: #00b3ac !important;
font-weight: 600;
}
.calndar-icon.btn-default {
height: 38px;
position: relative;
top: 10px;
}
.fc-toolbar h2 {
font-weight: 600;
color: #5586e7;
padding-top: 10px;
}
.fc-today-button {
position: absolute !important;
right: 0;
margin-right: 15px !important;
padding: 0px 14px 0 14px !important;
}
.fc-toolbar .fc-right {
position: relative;
right: 55px;
}
.page-sidebar.collapseit #main-menu-wrapper .wraplist li a .sidebar-img {
  width: 45% !important;
}
.fc-time-grid .fc-slats td {
	    height: 2.5em;
}
.fc-event-container .fc-event, .fc-draggable {
    padding-bottom: 20px;
    padding-top: 8px;
}
.fc-unthemed .fc-today {
    background: #5586e7;
}
.date-heading {
    text-align: center;
    display: block;
    font-weight: 600;
    color: #5586e7;
    font-size: 23px;
    bottom: 10px;
    margin: 0 auto;
}
.position-left {
  position: absolute;
  left: 15px;
}

</style>
<?php //print_r($_SESSION); ?>
<div class="col-xs-12" style="padding:10px 0 0 0;">

    <div class="col-lg-12  p-0">
        <section> <!--  class="box nobox " -->
          <div class="content-body">
              <div class="row">
                <div class="bttom-brder">
                  <div class="col-12 pull-left  ml-25 dis-flex">
 <!-- <button type="button" class="btn btn-default mr-15 " data-toggle="modal" data-target="#appointment" >Add Appointment </button> -->
<!--  <a href="appointment-list.html"> <button type="button" class="btn btn-default mr-15" > Appointment List</button></a> -->
<nav>
<ul class="nav nav-tabs tab-list">
   <li class="active"><a data-toggle="tab" href="#appointment-list">Appointment List</a></li>
  <!-- <li><a data-toggle="tab" href="#calender-list"  >Day</a></li>
  <!-- <li><a data-toggle="tab" href="#calender-week">Week</a></li> -->
  <li><a data-toggle="tab" href="#calender-list">Appointment Calendar List</a></li>
</div>
</nav>
 <div class="right-0">
  <button type="button" class="btn btn-default mr-15 " data-toggle="modal" data-target="#appointment" >Add Appointment </button>
  <!-- <button type="button" class="btn btn-default mr-15" id="txtdate" ><i class="fa fa-calendar"></i> </button> -->
</div>
</div>
</div>

<div class="tab-content">

                     <div id="appointment-list" class="tab-pane fade in active">
                      <!--<div class="row bottom-bordr">
                        <div class="col-12">
                        <div class="text-right mt-10 pb-10">
                           <button type="button" class="btn btn-default mr-15" id="txtdate" ><i class="fa fa-calendar"></i> </button>
                           <button type="button" class="btn btn-default mr-15"><i class="fa fa-caret-left"></i> </button>
                            <button type="button" class="btn btn-default mr-15"><i class="fa fa-caret-right"></i></button>
                             <button type="button" class="btn btn-default mr-30">Today</button>
                        </div>
                      </div>
                      </div>-->
                    <div class="row  mr-0 ml-0">
                      <div class="col-12 col-md-2 pr-0 pl-0 ">
                      <div class="bottom-bordr">
                    <button class="dropdown-btn">Medical Provider
                     <i class="fa fa-sort-desc"></i>
                       </button>
                   <div class="dropdown-container" style="height: auto;">
                     <?php if(count($doctor)>0){
                          foreach ($doctor as  $value) {
                            // code...

                       ?>
                        <label class="dropdown-item mr-10 mt-10 dis-flex"><input class="mr-10 ml-10 apl" type="checkbox" name="apl" value="<?php echo $value->user_id; ?>">
                             <span class="color-box" style="background: #BF2F00;"></span>
                                      <?php  echo $value->firstname.' '.$value->lastname ?></label>
                                    <?php }} ?>
                        </div>
                      </div>
                      <div class="bottom-bordr">
                    <button class="dropdown-btn">Appointment Types
                     <i class="fa fa-sort-desc"></i>
                       </button>
                   <div class="dropdown-container" style="height: 300px;">
                        <label class="dropdown-item border-bottom"><input class="mr-10 ml-10" type="checkbox" id="select-all-n" name="appointment_types" value="All"> All</label>
                        <label class="dropdown-item mr-10  dis-flex"><input class="mr-10 ml-10 aptype" type="checkbox" name="appointment_types" value="Wellness Exam">
                         <span class="color-box" style="background: #4D8285;"></span>Wellness Exam</label>
                           <label class="dropdown-item mr-10  dis-flex"><input class="mr-10 ml-10 aptype" type="checkbox" name="appointment_types" value="Follow-up Visit">
                          <span class="color-box" style=" background: #B25900;"></span>Follow-Up Visit</label>
                          <label class="dropdown-item mr-10  dis-flex"><input class="mr-10 ml-10 aptype" type="checkbox" name="appointment_types" value="Nursing Only">
                            <span class="color-box" style="background: #537343;"></span>Nursing Only</label>
                            <label class="dropdown-item mr-10  dis-flex"><input class="mr-10 ml-10 aptype" type="checkbox" name="appointment_types" value="Urgent Visit">
                             <span class="color-box" style="background: #854D64;"></span>Urgent Visit</label>
                             <label class="dropdown-item mr-10  dis-flex"><input class="mr-10 ml-10 aptype" type="checkbox" name="appointment_types" value="New Patient Visit">
                         <span class="color-box" style="background: #6A4D85;"></span>New Patient Visit</label>
                         <label class="dropdown-item mr-10  dis-flex"><input class="mr-10 ml-10 aptype" type="checkbox" name="appointment_types" value="Video Visit">
                          <span class="color-box" style="background: #FFCC99;"></span>Video Visit</label>
                          <label class="dropdown-item mr-10  dis-flex"><input class="mr-10 ml-10 aptype" type="checkbox" name="appointment_types" value="block_time">
                           <span class="color-box" style="background: #FF0000;"></span>Block Time</label>
                        </div>
                      </div>
                    </div>
                    <div class="col-12 col-md-10 bottom-bordr" style="border-left: 1px solid #ccc;">
                                 <div class="mt-10 pb-10 dis-flex">
                                   <h4 class="date-heading"><b id="dateprint"><?php echo date('jS F, Y'); ?></b></h4>
                                    <input type="hidden" name="calendar_type" value="today" id="calendar_type">
                         <!--   <button type="button" class="btn btn-default mr-15" id="txtdate" ><i class="fa fa-calendar"></i> </button> -->
                         <div class="position-left">
                           <button type="button" onclick="changedate()" class="btn btn-default mr-10" style="padding: 5px 18px;"><i class="fa fa-angle-left" style="font-size: 20px;font-weight: 600;"></i> </button>
                     <button type="button" onclick="changedateright()" class="btn btn-default mr-10" style="padding: 5px 18px;"><i class="fa fa-angle-right" style="font-size: 20px;font-weight: 600;"></i></button>
                       </div>
                             <button type="button" class="btn btn-default mr-10 pull-right" onclick="callmonth()">Month</button>
                             <button type="button" class="btn btn-default mr-10 pull-right" onclick="callweek()">Week</button>
                             <button type="button" class="btn btn-default mr-15 pull-right" onclick="calltoday()">Day</button>
                             <button type="button" class="btn btn-default mr-15 pull-right" onclick="calltoday()">Today</button>


                        </div>
                      </div>
                    <div class="col-12 col-md-10 brder-left">
                    <!-- <h4><b><?php //echo date('jS F, Y'); ?>  </b></h4> -->
                    <table class="table table-appointment">
                    <thead>


                    <th>Provider</th>
                    <th>Patient</th>
                    <th>Insurance Status</th>
                    <th>Type</th>
                    <th>Date</th>
                    <th>Created Date</th>
                    <th>Created By</th>
                    <th>Time</th>
                    <th>Chief complaint</th>
                    <th>Copay</th>
                    <th>Eligibility </th>
                    <th>Note</th>

                    </thead>
                    <tbody id="apladd">
                      <?php if(count($schedulestoday)>0){
                        foreach ($schedulestoday as  $value) {
                          // code...
                         ?>
                    <tr style="border-bottom: 1px solid #ddd; border-left: 1px solid #ddd;" class="hovertr">

                    <?php $insurance = $this->db->select("*")->from("insurance")->where("patient_id",$value->patent_id)->get()->row();  ?>
                    <?php $patient = $this->db->select("*")->from("patient")->where("patient_id",$value->patent_id)->get()->row();  ?>
                    <?php
                        // echo $value->doctor_id;
                        // exit;

                    if($value->doctor_id!='0'){ ?>
                    <?php $provider = $this->db->select("*")->from("user")->where("user_id",$value->doctor_id)->where('user_role','2')->get()->row();  ?>
                  <?php }else{
                    $provider = new stdClass();
                    $provider->firstname ='';
                    $provider->lastname ='';
                  } ?>
                  <td><?php if($provider!='' and $value->type!='block'){
                    echo $provider->firstname.' '.$provider->lastname;
                  }else if($value->type=='block' and $value->block_time_for=='all'){ ?>
                     <?php echo 'Block time for all'; ?>

                <?php  }else if($value->type=='block' and $value->block_time_for!='0'){ ?>
                <?php
                      //$where_in = 'schedule';
//->where('find_in_set("'.$where_in.'", features) <> 0')
                $bprovider = $this->db->select("*")->from("user")->where("user_id",$value->block_time_for)->where('user_role','2')->get()->row();  ?>
                      <?php if($bprovider!=''){
                        echo $bprovider->firstname.' '.$bprovider->lastname;
                      }else{
                        $bprovider = new stdClass();
                        $bprovider->firstname ='';
                        $bprovider->lastname ='';
                      } ?>

                <?php //echo $bprovider->firstname.''.$bprovider->lastname; ?>

              <?php  } ?> </td>

                    <?php if($patient!=''){ ?>
                      <td><?php echo $patient->fname.' '.$patient->mname.' '.$patient->lname; ?></td>
                  <?php  }else{ ?>

                    <td></td>
                <?php  } ?>

                <?php if($insurance!='' and $value->patent_id!=''){ ?>

<td><?php echo $insurance->status; ?> </td>

<?php   }else{ ?>
<td> Inactive</td>

<?php } ?>

                <td><?php
                       if($value->type=='block'){
                         echo "Block Time";
                       }else{

                 echo $value->appointment_type; } ?></td>
                 <td><?php echo date('d-m-Y',strtotime($value->whens));  ?> </td>
                 <td><?php echo date('d-m-Y h:i:A',strtotime($value->created_date));  ?> </td>
<?php
         if($value->created_by_role=='1' || $value->created_by_role=='2'){
                 $created_by = $this->db->select("*")->from("user")->where("user_id",$value->created_by)->get()->row();
                 $created_by->firstname = $created_by->firstname;
                 $created_by->lastname = $created_by->lastname;
         }else if($value->created_by_role=='10'){
           $created_by = $this->db->select("*")->from("patient")->where("id",$value->created_by)->get()->row();
           $created_by->firstname = $created_by->fname;
           $created_by->lastname = $created_by->lname;
         }





 ?>
                 <td><?php echo $created_by->firstname.' '.$created_by->lastname;  ?> </td>
                    <td><?php echo date('h:i A',strtotime($value->from_time)); ?></td>


                    <td><?php echo $value->chief_complaint; ?></td>



                    <td>
                         <?php if($insurance!='' and $value->patent_id!=''){ ?>

                      <?php echo $insurance->copay_type; ?>
                  <?php }else{ ?>

                <?php  } ?>
              </td>

                    <td>
  <?php if($insurance!='' and $value->patent_id!=''){ ?>
                      <?php echo $insurance->eligiblility; ?>
                  <?php }else{ ?>

                    <?php } ?>
                  </td>

                  <td><?php echo ($value->note!='')?$value->note:''; ?></td>
                    </tr>
                  <?php } } ?>
                    </tbody>
                    </table>
                  </div>
                </div>
              </div>
                     <div id="calender-list" class="tab-pane fade">
                      <div class="row mr-0 ml-0">
                      <div class="col-12 col-md-2 pr-0 pl-0 ">
                      <div class="bottom-bordr">
                    <button class="dropdown-btn">Medical Provider
                     <i class="fa fa-sort-desc"></i>
                       </button>
                   <div class="dropdown-container" style="height: auto;">
                        <!-- <label class="dropdown-item mr-10 mt-10 dis-flex"><input class="mr-10 ml-10" type="checkbox" name="" value="one">
                             <span class="color-box" style="background: #BF2F00;"></span>
                                      Aigbodion, Godstime</label> -->

                                      <?php if(count($doctor)>0){
                                           foreach ($doctor as  $value) {
                                             // code...

                                        ?>
                                         <label class="dropdown-item mr-10 mt-10 dis-flex"><input class="mr-10 ml-10 cpl" type="checkbox" name="cpl" value="<?php echo $value->user_id; ?>">
                                              <span class="color-box" style="background: #BF2F00;"></span>
                                                       <?php  echo $value->firstname.' '.$value->lastname ?></label>
                                                     <?php }} ?>
                        </div>
                      </div>
                      <div class="bottom-bordr">
                    <button class="dropdown-btn">Appointment Types
                     <i class="fa fa-sort-desc"></i>
                       </button>
                   <div class="dropdown-container" style="height: 300px;">
                        <label class="dropdown-item border-bottom"><input class="mr-10 ml-10 cptype" id="select-all" type="checkbox" name="appointment_typess" value="all"> All</label>
                        <label class="dropdown-item mr-10  dis-flex"><input class="mr-10 ml-10 cptype" type="checkbox" name="appointment_typess" value="Wellness Exam">
                         <span class="color-box" style="background: #4D8285;"></span>Wellness Exam</label>
                           <label class="dropdown-item mr-10  dis-flex"><input class="mr-10 ml-10 cptype" type="checkbox" name="appointment_typess" value="Follow-Up Visit">
                          <span class="color-box" style=" background: #B25900;"></span>Follow-Up Visit</label>
                          <label class="dropdown-item mr-10  dis-flex"><input class="mr-10 ml-10 cptype" type="checkbox" name="appointment_typess" value="Nursing Only">
                            <span class="color-box" style="background: #537343;"></span>Nursing Only</label>
                            <label class="dropdown-item mr-10  dis-flex"><input class="mr-10 ml-10 cptype" type="checkbox" name="appointment_typess" value="Urgent Visit">
                             <span class="color-box" style="background: #854D64;"></span>Urgent Visit</label>
                             <label class="dropdown-item mr-10  dis-flex"><input class="mr-10 ml-10 cptype" type="checkbox" name="appointment_typess" value="New Patient Visit">
                         <span class="color-box" style="background: #6A4D85;"></span>New Patient Visit</label>
                         <label class="dropdown-item mr-10  dis-flex"><input class="mr-10 ml-10 cptype" type="checkbox" name="appointment_typess" value="Video Visit">
                          <span class="color-box" style="background: #FFCC99;"></span>Video Visit</label>
                          <label class="dropdown-item mr-10  dis-flex"><input class="mr-10 ml-10 cptype" type="checkbox" name="appointment_typess" value="block_time">
                           <span class="color-box" style="background: #FF0000;"></span>Block Time</label>
                        </div>
                      </div>
                    </div>
                  <div id='calendar' class="col-xs-12 col-md-10 brder-left"></div>
                   </div>
                   </div>

                </div>
              </div>
        </section>
    </div>


</div>
<div id="myModal" class="modal fade" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Appointment Detail</h4>
      </div>
      <?php echo form_open('schedule/deleteappotment','class="form-inner"') ?>
      <?php //echo form_hidden('schedule_id','') ?>
      <div class="modal-body">
        <input type="hidden" name="schedule_id" id="schedule_idss">
        <div id="apt">
        <div class="row form-row">
          <div class="col-xs-12">
            <div class="form-group dis-flex  mb-0 color-blue">
            <div class="col-xs-12">
              <b>Patient Name:</b> <p style="display:inline-block;" id="patient_name"></p>
              </div>
            </div>
          </div>
        </div>
        <div class="row form-row">
          <div class="col-xs-12">
            <div class="form-group dis-flex  mb-0">
            <div class="col-xs-12">
              <b>Medical Provider Name:</b> <p style="display:inline-block;" id="doctor_name"></p>
              </div>
            </div>
          </div>
        </div>
        <div class="row form-row">
          <div class="col-xs-12">
            <div class="form-group dis-flex  mb-0">
            <div class="col-xs-12">
              <b>Chief Complaint:</b> <p style="display:inline-block;" id="chief_complaintss"></p>
              </div>
            </div>
          </div>
        </div>
        <div class="row form-row">
          <div class="col-xs-12">
            <div class="form-group dis-flex  mb-0">
            <div class="col-xs-12">
              <b>Date:</b> <p style="display:inline-block;" id="date"></p>

              </div>
            </div>
          </div>
        </div>
        <div class="row form-row">
          <div class="col-xs-12">
            <div class="form-group dis-flex  mb-0">
            <div class="col-xs-12">
              <b>Start Time:</b> <p style="display:inline-block;" id="fors_times"></p>
              </div>
            </div>
          </div>
        </div>
        <div class="row form-row">
          <div class="col-xs-12">
            <div class="form-group dis-flex  mb-0">
            <div class="col-xs-12">
              <b>End Time:</b> <p style="display:inline-block;" id="tos_times"></p>
              </div>
            </div>
          </div>
        </div>
        <div class="row form-row">
          <div class="col-xs-12">
            <div class="form-group dis-flex  mb-0">
            <div class="col-xs-12">
              <b>Create Date:</b> <p style="display:inline-block;" id="created_date"></p>
              </div>
            </div>
          </div>
        </div>
        <div class="row form-row">
          <div class="col-xs-12">
            <div class="form-group dis-flex  mb-0">
            <div class="col-xs-12">
              <b>Appointment Type:</b> <p style="display:inline-block;" id="ap_type"></p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div id="apts">
        <div class="row form-row">
          <div class="col-xs-12">
            <div class="form-group dis-flex  mb-0">
            <div class="col-xs-12">
              <b>Reason:</b> <p style="display:inline-block;" id="reasons"></p>
              </div>
            </div>
          </div>
        </div>
      <div class="row form-row">
        <div class="col-xs-12">
          <div class="form-group dis-flex  mb-0">
          <div class="col-xs-12">
            <b>Date:</b> <p style="display:inline-block;" id="dates"></p>
            </div>
          </div>
        </div>
      </div>
      <div class="row form-row">
        <div class="col-xs-12">
          <div class="form-group dis-flex  mb-0">
          <div class="col-xs-12">
            <b>Start Time:</b> <p style="display:inline-block;" id="tos_time"></p>
            </div>
          </div>
        </div>
      </div>
      <div class="row form-row">
        <div class="col-xs-12">
          <div class="form-group dis-flex  mb-0">
          <div class="col-xs-12">
            <b>End Time:</b> <p style="display:inline-block;" id="fors_time"></p>
            </div>
          </div>
        </div>
      </div>
      <div class="row form-row">
        <div class="col-xs-12">
          <div class="form-group dis-flex  mb-0">
          <div class="col-xs-12">
            <b>Note:</b> <p style="display:inline-block;" id="notess"></p>

            </div>
          </div>
        </div>
      </div>
    </div>
      </div>
      <div class="modal-footer">
        <button type="submit" class="btn btn-default" >Cancel Appointment</button>
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </form>
    </div>

  </div>
  </div>
  <div class="modal fade" id="appointment" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="modal-dialog" style="width: 850px;">
          <div class="modal-content">

              <?php //echo form_open_multipart('schedule/create','class="form-inner"') ?>

                 <?php //echo form_hidden('schedule_id',$schedule->schedule_id); ?>
              <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span>

                  </button>
                   <h4 class="modal-title" id="myModalLabel">New Appointment </h4>

              </div>
              <div class="modal-body">
                  <div role="tabpanel">
                      <!-- Nav tabs -->
                      <ul class="nav nav-tabs" role="tablist">
                          <li role="presentation" class="active"><a href="#patient" aria-controls="patient" role="tab" data-toggle="tab">With Patient</a>

                          </li>
                          <li role="presentation"><a href="#block" aria-controls="block" role="tab" data-toggle="tab">Block Time</a>

                          </li>
                      </ul>
                      <!-- Tab panes -->
                      <div class="tab-content appointment-tab">
                          <div role="tabpanel" class="tab-pane active" id="patient">
                            <?php echo form_open_multipart('schedule/create','class="form-inner"') ?>
                            <div class="h-50">
                            <div class="row ml-10 mr-10 mt-15">
                <div class="col-12 form-group m-0">
                              <label>PATIENT<span class="imp-red">*</span></label>
                              <input type="text"  name="patent_name" onkeyup="search()" required class="form-control text-field" id="patientPartyName" placeholder="Search patient name, DOB or SSN">
                              <input type="hidden" name="patent_id" id="patent_ids" value="">
                              <i class="fa fa-search pos-icon"></i>
                            </div>
                            <div class="white-box" id="add"  style="display:none;">
                              <div class="row" >
                                <!-- <div class="col-12 col-md-3">
                              <img  src="assets/images/user-img.png">
                              <p class="text-center"><b>Lorem Ipsum</b></p>
                             </div> -->
                             <div class="col-12 col-md-2 mt-15">
                              <span>3 months</span>
                            </div>
                            <div class="col-12 col-md-2 mt-15">
                              <span>Female</span>
                            </div>
                            <div class="col-12 col-md-2 mt-15 text-center">
                              <span>02/12/2019</span>
                            </div>
                            <div class="col-12 col-md-2 mt-15">
                              <span>a@gmail.com</span>
                            </div>
                            <div class="col-12 col-md-4 mt-15">
                              <span><b>M</b></span><span class="ml-10">(555) 555 - 1234</span>
                            </div>
                            <div class="col-12 col-md-3 mt-15">
                              <span><b>PRN</b></span><span class="ml-10">as123456</span>
                            </div>
                            </div>
                            </div>
                         </div>
                         <h5 class="ml-10 border-bottom color-light-blue"><b>Appointment Details</b></h5>
                         <div class="row">
                           <div class="col-12 col-md-7 form-group ml-10">
                          <label>PROVIDER<span class="imp-red">*</span></label>
                          <?php //date_default_timezone_set('Asia/Kolkata');
                          $session_id = $this->session->userdata('user_id');
                           $doctor_l = $this->db->select("*")->from("user")->where("user_role","2")->where('user.created_by',$session_id)->get()->result();  ?>
                              <select class="form-control" required name="doctor_id" id="provider" >
                                <option value="">Select Provider</option>
                                <?php foreach ($doctor as  $value) {
                                  ?>
                                  <option value="<?php echo $value->user_id; ?>"><?php echo $value->firstname.' '.$value->lastname; ?></option>
                              <?php  } ?>

                                   </select>
                            </div>
                            <div class="col-12 col-md-4 form-group duration pl-0">
                              <label>DURATION<span class="imp-red">*</span></label>
                              <select class="form-control aduration" name="aduration" required id="aduration" >
                                <!-- <option value="">Select</option> -->
                                <option value="15 min">15 min</option>
                                <option value="30 min">30 min</option>
                                <option value="45 min">45 min</option>
                                <option value="60 min">60 min</option>
                                 <option value="75 min">75 min</option>
                              </select>
                            </div>
                         </div>
                         <div class="row">
                            <div class="col-12 form-group ml-10 mr-10">
                              <label>CHIEF COMPLAINT</label>
                              <textarea class="w-100" id="chief_complaint" required  name="chief_complaint" rows="2" placeholder="Add any problems or symptoms here"> </textarea>
                            </div>
                          </div>
                          <div class="row">
                              <!-- <div class="col-12 col-md-5 ml-10">
                                  <label>APPOINTMENT TYPE<span class="imp-red">*</span></label>
                                  <select class="form-control" name="type" id="type">
                                                  <option value="">Follow-up Visit</option>
                                                  <option value="">New Patient Visit</option>
                                                  <option value="">Nursing Only</option>
                                                  <option value="">Urgent Visit</option>
                                                  <option value="">Video Visit</option>
                                                  <option value="">Wellness Exam</option>
                                   </select>
                              </div> -->
                              <div class="col-12 col-md-5 ml-10 form-group">
                                  <label>APPOINTMENT TYPE<span class="imp-red">*</span></label>
                                  <select class="form-control" required name="appointment_type" id="type" >
                                                 <option value="">select</option>
                                                  <option value="Follow-up Visit">Follow-up Visit</option>
                                                  <option value="New Patient Visit">New Patient Visit</option>
                                                  <option value="Nursing Only">Nursing Only</option>
                                                  <option value="Urgent Visit">Urgent Visit</option>
                                                  <option value="Video Visit">Video Visit</option>
                                                  <option value="Wellness Exam">Wellness Exam</option>
                                   </select>
                              </div>
                              <div class="col-12 col-md-6 form-group pl-0 when-date">
                              <label>WHEN<span class="imp-red">*</span></label>
                              <input required type="text" name="awhens"  class="form-control text-field" id="awhens"  placeholder="WHEN">
                            </div>
                          </div>
                          <div class="row">
                               <div class="col-12 col-md-4 form-group ml-10 when-date">
                              <label>From time <span class="imp-red">*</span></label>
                              <input type="text" required  name="afrom_time" onchange="getval()" class="form-control text-field" id="datetimepicker3" placeholder="from time">
                            </div>
                             <div class="col-12 col-md-4 form-group pl-0 when-date">
                              <label>To time <span class="imp-red">*</span></label>
                              <input type="text"  required name="ato_time" onchange="setval()" class="form-control text-field s" id="datetimepicker4" placeholder="To time">
                              <div id="checktime" style="display:none;"> To Time Should Not Be Less Than From Time

</div>
                            </div>
                            <!-- <div class="col-12 col-md-3 mt-30">
                                <div class="form-check">
  <input class="form-check-input" name="is_repeat" type="checkbox" value="" id="defaultCheck1">
  <label class="form-check-label ml-10" for="defaultCheck1">
  Repeat</label>
  </div>
                            </div> -->
                          </div>
<input type="hidden" name="atype" value="appointment">
                </div>
                <div class="modal-footer">
                               <button  type="submit" class="btn btn-default">Save</button>
                                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>

                            </div>
                          </form>
                              </div>



                          <div role="tabpanel" class="tab-pane" id="block">
                            <?php echo form_open_multipart('schedule/create','class="form-inner"') ?>
                            <div class="h-50">
                            <div class="row">
                              <input type="hidden" name="btype" value="block">
                              <!-- <div class="col-12 col-md-5 ml-10">
                                  <label>BLOCK TIME FOR</label>
                                  <select class="form-control" name="time" id="time">
                                                  <option value="">All Providers </option>
                                                  <option value="">Aigbodion , Godstime</option>
                                   </select>
                              </div> -->
                              <div class="col-12 col-md-5 ml-10 form-group">
                                  <label>BLOCK TIME FOR</label>
                                  <?php
$where_in = 'schedule';
                                   $session_id = $this->session->userdata('user_id');
                                   if($this->session->userdata('isadmin')=='1'){
                                     $created_by = $this->db->select("*")->from("user")->where("user_role","2")->where('user.user_id',$session_id)->get()->row();
                                      $doctor_ls = $this->db->select("*")->from("user")->where("user_role","2")->where('user.created_by',$created_by->created_by)->where('find_in_set("'.$where_in.'", features) <> 0')->get()->result();
                                   }else{
                                   $doctor_ls = $this->db->select("*")->from("user")->where("user_role","2")->where('user.created_by',$session_id)->where('find_in_set("'.$where_in.'", features) <> 0')->get()->result();
}
                                   ?>
                                  <select required class="form-control" name="block_time_for" id="time">
<option value="">select</option>
                                                  <option value="all">All Providers </option>


                                                        <?php foreach ($doctor_ls as  $value) {
                                                          ?>
                                                          <option value="<?php echo $value->user_id; ?>"><?php echo $value->firstname.' '.$value->lastname; ?></option>
                                                      <?php  } ?>
                                   </select>
                              </div>
                               <div class="col-12 col-md-6 form-group pl-0">
                              <label>WHEN</label>
                              <input required type="text" name="bwhens" class="form-control text-field"  id="bwhens" placeholder="WHEN">
                            </div>
                 </div>
                 <div class="row">
                               <div class="col-12 col-md-4 form-group ml-10 ">
                              <label>From time</label>
                              <input required type="text" name="bfrom_time" onchange="getvals()" class="form-control text-field" id="datetimepicker5" placeholder="from time">
                            </div>
                             <div class="col-12 col-md-4 form-group pl-0">
                              <label>To time</label>
                              <input required type="text" name="bto_time" onchange="setvals()" class="form-control text-field k" id="datetimepicker6" placeholder="To time">
                            </div>
                            <div class="col-12 col-md-3 form-group duration pl-0">
                              <label>DURATION<span class="imp-red">*</span></label>
                          <!-- <input list="browsers" name="bduration" id="browser">
                            <datalist id="browsers">
                             <option value="15 min">
                             <option value="30 min">
                             <option value="45 min">
                             <option value="60 min">
                              <option value="75 min">
                            </datalist> -->
                            <select class="form-control bduration" name="bduration" id="bduration" required>
                              <option value="15 min">15 min</option>
                              <option value="30 min">30 min</option>
                              <option value="45 min">45 min</option>
                              <option value="60 min">60 min</option>
                               <option value="75 min">75 min</option>
                            </select>
                            </div>
                            </div>
                            <div class="row">
                              <div class="col-12 col-md-5 ml-10 form-group">
                                  <label>REPEAT</label>
                                  <select class="form-control" name="repeat" id="repeat">
                                    <option value="">Select</option>
                                                  <option value="yes">Yes</option>
                                                  <option value="no">No</option>
                                   </select>
                              </div>

                               <div class="col-12 col-md-6 pl-0 form-group">
                                  <label>REASON<span class="imp-red">*</span></label>
                                  <select required  class="form-control" name="reason" id="reason">
                                                  <option value="">Select </option>
                                                  <option value="Lunch">Lunch </option>
                                                  <option value="Meeting">Meeting</option>
                                                  <option value="Miscellanous">Miscellanous</option>
                                                  <option value="Out of Office">Out of Office</option>
                                                  <option value="Surgery">Surgery</option>
                                                  <option value="Vacation">Vacation</option>
                                   </select>
                              </div>

                            </div>
                            <!-- <div class="row">
                              <div class="col-12 col-md-11 form-group ml-10">
                              <label>DESCRIPTION </label>
                              <input type="text" name="description" class="form-control text-field" id="dis">
                            </div>
                            </div> -->
                            <div class="row">
                            <div class="col-12 col-md-6 form-group ml-10" id="tosdate" style="display:none;">
                           <label>Date</label>
                           <input type="text"  name="repeat_date"  id="repeat_date"  class="form-control text-field"  placeholder="Date">
                         </div>
                         </div>
                            <div class="row ">
                            <div class="col-12 form-group ml-10 mr-10">
                              <label>NOTE</label>
                              <textarea required class="w-100" id="bnote" name="note" rows="2"></textarea>
                            </div>
                          </div>
                          </div>
                               <div class="modal-footer">
                 <button type="submit"  class="btn btn-default">Save</button> <!--onclick="add_appointment();" -->
                  <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>

              </div>
            </form>
                        </div>
                          </div>

                      </div>
                  </div>
           <!--    <div class="modal-footer">
                 <button type="button" onclick="add_appointment();" class="btn btn-default">Submit</button>
                  <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>

              </div> -->
            <!-- </form> -->
          </div>
      </div>
  </div>
  <!-- <script>
  $('#select-all').click(function(event) {
      if(this.checked) {
          // Iterate each checkbox
          $(':checkbox').each(function() {
              this.checked = true;
          });
      } else {
          $(':checkbox').each(function() {
              this.checked = false;
          });
      }
  });
</script> -->

<!-- <script src='<?//=base_url()?>assets/calendar/jquery.min.js'></script>
<script src='<?//=base_url()?>assets/calendar/moment.min.js'></script>

<script src='<?//=base_url()?>assets/calendar/fullcalendar.min.js'></script> -->
